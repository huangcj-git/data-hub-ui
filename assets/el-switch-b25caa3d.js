import{m as e,o as a,af as t,q as i,u as l,ad as n,O as o,n as s,w as c}from"./useI18n-58b225c6.js";import{i as r,g as u,k as v,r as d,j as p,o as m,l as f,x as y,y as b,u as h,v as k,m as g,w as x,aX as I,ac as C,b5 as V,c as S,z as w,R as T,n as j,bp as B}from"./runtime-core.esm-bundler-9826e6ce.js";import{i as _,c as N,d as E,E as P,l as z}from"./index-613eaa2d.js";import{i as K}from"./validator-787b8554.js";import{U,C as q,I as A}from"./event-5568c9d8.js";import{u as F,a as O}from"./index-a18f7570.js";import{u as R}from"./el-button-b3603e9b.js";import{b as X}from"./style-cacd911c.js";import{d as D,t as G}from"./error-c58402b8.js";const H=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:_},inactiveIcon:{type:_},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:a(Function)},size:{type:String,validator:K},tabindex:{type:[String,Number]}}),J={[U]:e=>t(e)||r(e)||i(e),[q]:e=>t(e)||r(e)||i(e),[A]:e=>t(e)||r(e)||i(e)},L=["onClick"],M=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Q=["aria-hidden"],W=["aria-hidden"],Y=["aria-hidden"],Z="ElSwitch",$=u({name:Z});const ee=c(s(u({...$,props:H,emits:J,setup(e,{expose:a,emit:i}){const s=e,c=T(),{formItem:r}=F(),u=N(),_=l("switch");R({from:'"value"',replacement:'"model-value" or "v-model"',scope:Z,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},v((()=>{var e;return!!(null==(e=c.vnode.props)?void 0:e.value)})));const{inputId:K}=O(s,{formItemContext:r}),H=E(v((()=>s.loading))),J=d(!1!==s.modelValue),$=d(),ee=d(),ae=v((()=>[_.b(),_.m(u.value),_.is("disabled",H.value),_.is("checked",le.value)])),te=v((()=>({width:X(s.width)})));p((()=>s.modelValue),(()=>{J.value=!0})),p((()=>s.value),(()=>{J.value=!1}));const ie=v((()=>J.value?s.modelValue:s.value)),le=v((()=>ie.value===s.activeValue));[s.activeValue,s.inactiveValue].includes(ie.value)||(i(U,s.inactiveValue),i(q,s.inactiveValue),i(A,s.inactiveValue)),p(le,(e=>{var a;$.value.checked=e,s.validateEvent&&(null==(a=null==r?void 0:r.validate)||a.call(r,"change").catch((e=>D())))}));const ne=()=>{const e=le.value?s.inactiveValue:s.activeValue;i(U,e),i(q,e),i(A,e),j((()=>{$.value.checked=le.value}))},oe=()=>{if(H.value)return;const{beforeChange:e}=s;if(!e)return void ne();const a=e();[B(a),t(a)].includes(!0)||G(Z,"beforeChange must return type `Promise<boolean>` or `boolean`"),B(a)?a.then((e=>{e&&ne()})).catch((e=>{})):a&&ne()},se=v((()=>_.cssVarBlock({...s.activeColor?{"on-color":s.activeColor}:null,...s.inactiveColor?{"off-color":s.inactiveColor}:null,...s.borderColor?{"border-color":s.borderColor}:null})));return m((()=>{$.value.checked=le.value})),a({focus:()=>{var e,a;null==(a=null==(e=$.value)?void 0:e.focus)||a.call(e)},checked:le}),(e,a)=>(f(),y("div",{class:k(h(ae)),style:w(h(se)),onClick:o(oe,["prevent"])},[b("input",{id:h(K),ref_key:"input",ref:$,class:k(h(_).e("input")),type:"checkbox",role:"switch","aria-checked":h(le),"aria-disabled":h(H),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:h(H),tabindex:e.tabindex,onChange:ne,onKeydown:n(oe,["enter"])},null,42,M),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?C("v-if",!0):(f(),y("span",{key:0,class:k([h(_).e("label"),h(_).em("label","left"),h(_).is("active",!h(le))])},[e.inactiveIcon?(f(),g(h(P),{key:0},{default:x((()=>[(f(),g(I(e.inactiveIcon)))])),_:1})):C("v-if",!0),!e.inactiveIcon&&e.inactiveText?(f(),y("span",{key:1,"aria-hidden":h(le)},V(e.inactiveText),9,Q)):C("v-if",!0)],2)),b("span",{ref_key:"core",ref:ee,class:k(h(_).e("core")),style:w(h(te))},[e.inlinePrompt?(f(),y("div",{key:0,class:k(h(_).e("inner"))},[e.activeIcon||e.inactiveIcon?(f(),g(h(P),{key:0,class:k(h(_).is("icon"))},{default:x((()=>[(f(),g(I(h(le)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(f(),y("span",{key:1,class:k(h(_).is("text")),"aria-hidden":!h(le)},V(h(le)?e.activeText:e.inactiveText),11,W)):C("v-if",!0)],2)):C("v-if",!0),b("div",{class:k(h(_).e("action"))},[e.loading?(f(),g(h(P),{key:0,class:k(h(_).is("loading"))},{default:x((()=>[S(h(z))])),_:1},8,["class"])):C("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?C("v-if",!0):(f(),y("span",{key:1,class:k([h(_).e("label"),h(_).em("label","right"),h(_).is("active",h(le))])},[e.activeIcon?(f(),g(h(P),{key:0},{default:x((()=>[(f(),g(I(e.activeIcon)))])),_:1})):C("v-if",!0),!e.activeIcon&&e.activeText?(f(),y("span",{key:1,"aria-hidden":!h(le)},V(e.activeText),9,Y)):C("v-if",!0)],2))],14,L))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{ee as E};
