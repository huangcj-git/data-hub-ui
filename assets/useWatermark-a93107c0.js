import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-b7566a2e.js";import{d as t}from"./useI18n-d79c1d65.js";import{E as r}from"./el-button-1bdd997e.js";import{a}from"./app-c86413cf.js";import{g as n,k as s,aH as o,l as i,m,w as l,c as p,ag as d,b5 as c,u}from"./runtime-core.esm-bundler-9826e6ce.js";import"./el-card-2fd19695.js";import"./el-popper-64a555d3.js";import"./useDesign-ed96a8b0.js";import"./index-7057029c.js";import"./index-a9263744.js";import"./style-af36378f.js";import"./index-ba610b86.js";import"./index-faf5036a.js";import"./el-message-9459597d.js";import"./typescript-5028724d.js";const g=Symbol("watermark-dom");const f=n({__name:"useWatermark",setup(n){const f=a(),y=s((()=>f.getTitle)),{setWatermark:k,clear:j}=function(e=document.body){let t=()=>{};const r=g.toString(),a=()=>{const a=document.getElementById(r);a&&e&&e.removeChild(a),window.removeEventListener("resize",t)},n=t=>{a();const n=document.createElement("canvas");n.width=300,n.height=240;const s=n.getContext("2d");s&&(s.rotate(-20*Math.PI/120),s.font="15px Vedana",s.fillStyle="rgba(0, 0, 0, 0.15)",s.textAlign="left",s.textBaseline="middle",s.fillText(t,n.width/20,n.height));const o=document.createElement("div");return o.id=r,o.style.pointerEvents="none",o.style.top="0px",o.style.left="0px",o.style.position="absolute",o.style.zIndex="100000000",o.style.width=document.documentElement.clientWidth+"px",o.style.height=document.documentElement.clientHeight+"px",o.style.background="url("+n.toDataURL("image/png")+") left top repeat",e&&e.appendChild(o),r};return{setWatermark:function(e){n(e),t=()=>{n(e)},window.addEventListener("resize",t)},clear:a}}(),{t:h}=t();return o((()=>{j()})),(t,a)=>(i(),m(u(e),{title:"useWatermark"},{default:l((()=>[p(u(r),{type:"primary",onClick:a[0]||(a[0]=e=>u(k)(u(y)))},{default:l((()=>[d(c(u(h)("watermarkDemo.createdWatermark")),1)])),_:1}),p(u(r),{type:"danger",onClick:u(j)},{default:l((()=>[d(c(u(h)("watermarkDemo.clearWatermark")),1)])),_:1},8,["onClick"]),p(u(r),{type:"warning",onClick:a[1]||(a[1]=e=>u(k)(`New${u(y)}`))},{default:l((()=>[d(c(u(h)("watermarkDemo.resetWatermark")),1)])),_:1})])),_:1}))}});export{f as default};
