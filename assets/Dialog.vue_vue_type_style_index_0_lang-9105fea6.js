import{n as e,u as s,v as o,T as l,w as a,p as t}from"./useI18n-58b225c6.js";import{u as r,b as n,E as i}from"./el-overlay-48fb0b4c.js";import{E as c}from"./el-scrollbar-2642ea66.js";import{e as d}from"./is-c4ce1157.js";import{E as u,J as f}from"./index-613eaa2d.js";import{d as m,a as p,b as g,c as b,u as v}from"./use-dialog-073aef44.js";import{u as y}from"./index-d58b826b.js";import{F as h,e as x}from"./el-popper-ac7429d6.js";import{c as k}from"./refs-2b3ead35.js";import{g as C,at as $,k as _,l as j,x as R,y as w,q as A,v as F,u as I,b5 as E,c as H,w as z,m as M,aX as D,ac as L,z as S,bd as T,r as q,p as B,b as O,aD as P,ae as U,a7 as J,j as K,s as N,ag as V,bb as X,n as Y}from"./runtime-core.esm-bundler-9826e6ce.js";import{u as G}from"./el-button-b3603e9b.js";const Q=Symbol("dialogInjectionKey"),W=["aria-label"],Z=["id"],ee=C({name:"ElDialogContent"});var se=e(C({...ee,props:m,emits:p,setup(e){const s=e,{t:o}=y(),{Close:l}=f,{dialogRef:a,headerRef:t,bodyId:n,ns:i,style:c}=$(Q),{focusTrapRef:d}=$(h),m=k(d,a),p=_((()=>s.draggable));return r(a,t,p),(e,s)=>(j(),R("div",{ref:I(m),class:F([I(i).b(),I(i).is("fullscreen",e.fullscreen),I(i).is("draggable",I(p)),I(i).is("align-center",e.alignCenter),{[I(i).m("center")]:e.center},e.customClass]),style:S(I(c)),tabindex:"-1"},[w("header",{ref_key:"headerRef",ref:t,class:F(I(i).e("header"))},[A(e.$slots,"header",{},(()=>[w("span",{role:"heading",class:F(I(i).e("title"))},E(e.title),3)])),e.showClose?(j(),R("button",{key:0,"aria-label":I(o)("el.dialog.close"),class:F(I(i).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[H(I(u),{class:F(I(i).e("close"))},{default:z((()=>[(j(),M(D(e.closeIcon||I(l))))])),_:1},8,["class"])],10,W)):L("v-if",!0)],2),w("div",{id:I(n),class:F(I(i).e("body"))},[A(e.$slots,"default")],10,Z),e.$slots.footer?(j(),R("footer",{key:0,class:F(I(i).e("footer"))},[A(e.$slots,"footer")],2)):L("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const oe=["aria-label","aria-labelledby","aria-describedby"],le=C({name:"ElDialog",inheritAttrs:!1});const ae=a(e(C({...le,props:g,emits:b,setup(e,{expose:a}){const t=e,r=T();G({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},_((()=>!!r.title))),G({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},_((()=>!!t.customClass)));const c=s("dialog"),d=q(),u=q(),f=q(),{visible:m,titleId:p,bodyId:g,style:b,overlayDialogStyle:y,rendered:h,zIndex:k,afterEnter:C,afterLeave:$,beforeLeave:R,handleClose:E,onModalClick:D,onOpenAutoFocus:K,onCloseAutoFocus:N,onCloseRequested:V,onFocusoutPrevented:X}=v(t,d);B(Q,{dialogRef:d,headerRef:u,bodyId:g,ns:c,rendered:h,style:b});const Y=n(D),W=_((()=>t.draggable&&!t.fullscreen));return a({visible:m,dialogContentRef:f}),(e,s)=>(j(),M(J,{to:"body",disabled:!e.appendToBody},[H(l,{name:"dialog-fade",onAfterEnter:I(C),onAfterLeave:I($),onBeforeLeave:I(R),persisted:""},{default:z((()=>[O(H(I(i),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":I(k)},{default:z((()=>[w("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:I(p),"aria-describedby":I(g),class:F(`${I(c).namespace.value}-overlay-dialog`),style:S(I(y)),onClick:s[0]||(s[0]=(...e)=>I(Y).onClick&&I(Y).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>I(Y).onMousedown&&I(Y).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>I(Y).onMouseup&&I(Y).onMouseup(...e))},[H(I(x),{loop:"",trapped:I(m),"focus-start-el":"container",onFocusAfterTrapped:I(K),onFocusAfterReleased:I(N),onFocusoutPrevented:I(X),onReleaseRequested:I(V)},{default:z((()=>[I(h)?(j(),M(se,P({key:0,ref_key:"dialogContentRef",ref:f},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:I(W),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:I(E)}),U({header:z((()=>[e.$slots.title?A(e.$slots,"title",{key:1}):A(e.$slots,"header",{key:0,close:I(E),titleId:I(p),titleClass:I(c).e("title")})])),default:z((()=>[A(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:z((()=>[A(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):L("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,oe)])),_:3},8,["mask","overlay-class","z-index"]),[[o,I(m)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]])),te={class:"flex justify-between"},re=C({__name:"Dialog",props:{modelValue:t.bool.def(!1),title:t.string.def("Dialog"),fullscreen:t.bool.def(!0),maxHeight:t.oneOfType([String,Number]).def("500px")},setup(e){const s=e,o=T(),l=_((()=>{const e=["fullscreen","title","maxHeight"],o={...X(),...s};for(const s in o)-1!==e.indexOf(s)&&delete o[s];return o})),a=q(!1),t=()=>{a.value=!I(a)},r=q(d(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight);K((()=>a.value),(async e=>{if(await Y(),e){const e=document.documentElement.offsetHeight;r.value=e-55-60-(o.footer?63:0)+"px"}else r.value=d(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight}),{immediate:!0});const n=_((()=>({height:I(r)})));return(s,r)=>{const i=N("Icon");return j(),M(I(ae),P(I(l),{fullscreen:a.value,"destroy-on-close":"","lock-scroll":"",draggable:"","close-on-click-modal":!1}),U({header:z((()=>[w("div",te,[A(s.$slots,"title",{},(()=>[V(E(e.title),1)])),e.fullscreen?(j(),M(i,{key:0,class:"mr-18px cursor-pointer is-hover mt-2px z-10",icon:a.value?"zmdi:fullscreen-exit":"zmdi:fullscreen",color:"var(--el-color-info)",onClick:t},null,8,["icon"])):L("",!0)])])),default:z((()=>[H(I(c),{style:S(I(n))},{default:z((()=>[A(s.$slots,"default")])),_:3},8,["style"])])),_:2},[I(o).footer?{name:"footer",fn:z((()=>[A(s.$slots,"footer")])),key:"0"}:void 0]),1040,["fullscreen"])}}});export{re as _};
