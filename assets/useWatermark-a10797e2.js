import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-2801a548.js";import{d as t}from"./useI18n-58b225c6.js";import{E as r}from"./el-button-b3603e9b.js";import{a}from"./app-9f5217c9.js";import{g as n,k as s,aH as o,l as i,m,w as l,c as p,ag as d,b5 as c,u}from"./runtime-core.esm-bundler-9826e6ce.js";import"./el-card-dbdbf7f6.js";import"./el-popper-ac7429d6.js";import"./useDesign-153c2279.js";import"./index-052519ae.js";import"./index-613eaa2d.js";import"./style-cacd911c.js";import"./index-a18f7570.js";import"./index-faf5036a.js";import"./el-message-a1f84c0e.js";import"./typescript-5028724d.js";const g=Symbol("watermark-dom");const f=n({__name:"useWatermark",setup(n){const f=a(),y=s((()=>f.getTitle)),{setWatermark:k,clear:j}=function(e=document.body){let t=()=>{};const r=g.toString(),a=()=>{const a=document.getElementById(r);a&&e&&e.removeChild(a),window.removeEventListener("resize",t)},n=t=>{a();const n=document.createElement("canvas");n.width=300,n.height=240;const s=n.getContext("2d");s&&(s.rotate(-20*Math.PI/120),s.font="15px Vedana",s.fillStyle="rgba(0, 0, 0, 0.15)",s.textAlign="left",s.textBaseline="middle",s.fillText(t,n.width/20,n.height));const o=document.createElement("div");return o.id=r,o.style.pointerEvents="none",o.style.top="0px",o.style.left="0px",o.style.position="absolute",o.style.zIndex="100000000",o.style.width=document.documentElement.clientWidth+"px",o.style.height=document.documentElement.clientHeight+"px",o.style.background="url("+n.toDataURL("image/png")+") left top repeat",e&&e.appendChild(o),r};return{setWatermark:function(e){n(e),t=()=>{n(e)},window.addEventListener("resize",t)},clear:a}}(),{t:h}=t();return o((()=>{j()})),(t,a)=>(i(),m(u(e),{title:"useWatermark"},{default:l((()=>[p(u(r),{type:"primary",onClick:a[0]||(a[0]=e=>u(k)(u(y)))},{default:l((()=>[d(c(u(h)("watermarkDemo.createdWatermark")),1)])),_:1}),p(u(r),{type:"danger",onClick:u(j)},{default:l((()=>[d(c(u(h)("watermarkDemo.clearWatermark")),1)])),_:1},8,["onClick"]),p(u(r),{type:"warning",onClick:a[1]||(a[1]=e=>u(k)(`New${u(y)}`))},{default:l((()=>[d(c(u(h)("watermarkDemo.resetWatermark")),1)])),_:1})])),_:1}))}});export{f as default};
